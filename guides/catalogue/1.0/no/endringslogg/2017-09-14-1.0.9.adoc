:ruleurl-cat: /ehf/rule/catalogue-1.0/
:ruleurl-res: /ehf/rule/catalogue-response-1.0/

[cols="1,9,2", options="header"]
|===
| Sak | Beskrivelse | Type

| link:https://github.com/difi/vefa-ehf-postaward/issues/215[#215]
| Fikse kontekst for en del regler for å oppnå høyere kvalitet.
| Validator

| link:https://github.com/difi/vefa-ehf-postaward/issues/222[#222]
| Bytte ut en del regler med regler i EHF Common.
| Validator

| link:https://github.com/difi/vefa-ehf-postaward/issues/222[#222]
| Legge til regelen link:{ruleurl-cat}NOGOV-T19-R024/[NOGOV-T19-R024] (**W**) for å understøtte implisitt funksjonalitet.
| Validator

|===

WARNING: Valideringsregler som er ventet å trigge feil i neste release: NOGOV-T19-R024, EHF-COMMON-R011, EHF-COMMON-R012, EHF-COMMON-R013


=== Mapping of rules for EHF Common in EHF Catalogue

[cols="3,8,3", options="header"]
|===
| New rule
| Description
| Old rule

3+h| Document in general

| EHF-COMMON-R001 (*F*)
| Document MUST not contain empty elements.
| NOGOV-T19-R018 (*F*)

| EHF-COMMON-R002 (*F*)
| Document MUST not contain empty elements.
| NOGOV-T19-R018 (*F*)

| EHF-COMMON-R003 (*W*)
| Document SHOULD not contain schema location.
| _New rule_

| EHF-COMMON-R004 (*F*)
| Document MUST have a syntax identifier.
| NOGOV-T19-R007 (*F*)

3+h| Validation of Norwegian organization numbers

| EHF-COMMON-R010 (*F*)
| MUST be a valid Norwegian organization number. Only numerical value allowed
| NOGOV-T19-R015 (*F*), NOGOV-T19-R017 (*F*)

| EHF-COMMON-R011 (*F*)
| When scheme is NO:ORGNR, a valid Norwegian organization number must be used. Only numerical value allowed
| _New rule_

| EHF-COMMON-R012 (*F*)
| A VAT number MUST be valid Norwegian organization number (nine numbers) followed by the letters MVA.
| _New rule_

| EHF-COMMON-R013 (*F*)
| When scheme is NO:ORGNR, a valid Norwegian organization number must be used. Only numerical value allowed
| _New rule_

| EHF-COMMON-R014 (*F*)
| An endpoint identifier scheme MUST have the value 'NO:ORGNR'.
| NOGOV-T19-R014 (*F*), NOGOV-T19-R016 (*F*)

3+h| Validation of tax

| EHF-COMMON-R020 (*F*)
| Tax categories MUST be one of the follwoing codes:  AA E H K R S Z
| NOGOV-T19-R019 (*F*)

3+h| Formating validation

| EHF-COMMON-R030 (*F*)
| A date must be formatted YYYY-MM-DD.
| NOGOV-T19-R006 (*F*)

3+h| Code lists

| EHF-COMMON-R100 (*W*)
| Attachment is not a recommended MIMEType.
| _New rule_

|===


=== Mapping of rules for EHF Common in EHF Catalogue Response

[cols="3,8,3", options="header"]
|===
| New rule
| Description
| Old rule

3+h| Document in general

| EHF-COMMON-R001 (*F*)
| Document MUST not contain empty elements.
| NOGOV-T58-R009 (*F*)

| EHF-COMMON-R002 (*F*)
| Document MUST not contain empty elements.
| NOGOV-T58-R009 (*F*)

| EHF-COMMON-R003 (*W*)
| Document SHOULD not contain schema location.
| _New rule_

| EHF-COMMON-R004 (*F*)
| Document MUST have a syntax identifier.
| NOGOV-T58-R002 (*F*)

3+h| Validation of Norwegian organization numbers

| EHF-COMMON-R010 (*F*)
| MUST be a valid Norwegian organization number. Only numerical value allowed
| NOGOV-T58-R006 (*F*), NOGOV-T58-R008 (*F*)

| EHF-COMMON-R011 (*F*)
| When scheme is NO:ORGNR, a valid Norwegian organization number must be used. Only numerical value allowed
| _New rule_

| EHF-COMMON-R012 (*F*)
| A VAT number MUST be valid Norwegian organization number (nine numbers) followed by the letters MVA.
| _Ignored_

| EHF-COMMON-R013 (*F*)
| When scheme is NO:ORGNR, a valid Norwegian organization number must be used. Only numerical value allowed
| _Ignored_

| EHF-COMMON-R014 (*F*)
| An endpoint identifier scheme MUST have the value 'NO:ORGNR'.
| NOGOV-T58-R005 (*F*), NOGOV-T58-R007 (*F*)

3+h| Validation of tax

| EHF-COMMON-R020 (*F*)
| Tax categories MUST be one of the follwoing codes:  AA E H K R S Z
| _Ignored_

3+h| Formating validation

| EHF-COMMON-R030 (*F*)
| A date must be formatted YYYY-MM-DD.
| NOGOV-T58-R001 (*F*)

3+h| Code lists

| EHF-COMMON-R100 (*W*)
| Attachment is not a recommended MIMEType.
| _Ignored_

|===
