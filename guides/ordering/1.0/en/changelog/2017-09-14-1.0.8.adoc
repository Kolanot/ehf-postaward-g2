:ruleurl-ord: /ehf/rule/order-1.0/
:ruleurl-res: /ehf/rule/order-response-1.0/

[cols="1,9,2", options="header"]
|===
| Issue | Description | Type

| link:https://github.com/difi/vefa-ehf-postaward/issues/215[#215]
| Fixing context for a lot of rules for higher quality.
| Validator

| link:https://github.com/difi/vefa-ehf-postaward/issues/222[#222]
| Replacing rules with rules in EHF Common.
| Validator

| link:https://github.com/difi/vefa-ehf-postaward/issues/222[#222]
| Adding rule link:{ruleurl-ord}NOGOV-T01-R023/[NOGOV-T01-R023] (**W**) and link:{ruleurl-ord}NOGOV-T01-R024/[NOGOV-T01-R024] (**W**) to support implisit functionality.
| Validator

|===

WARNING: Validation rules expected to be updated to trigger error in next release: EHF-COMMON-R011


=== Mapping of rules in EHF Common for EHF Order

[cols="3,8,3", options="header"]
|===
| New rule
| Description
| Old rule

3+h| Document in general

| EHF-COMMON-R001 (*F*)
| Document MUST not contain empty elements.
| NOGOV-T01-R006 (*F*)

| EHF-COMMON-R002 (*F*)
| Document MUST not contain empty elements.
| NOGOV-T01-R006 (*F*)

| EHF-COMMON-R003 (*W*)
| Document SHOULD not contain schema location.
| _New rule_

| EHF-COMMON-R004 (*F*)
| Document MUST have a syntax identifier.
| NOGOV-T01-R012 (*F*)

3+h| Validation of Norwegian organization numbers

| EHF-COMMON-R010 (*F*)
| MUST be a valid Norwegian organization number. Only numerical value allowed
| NOGOV-T01-R009 (*F*)

| EHF-COMMON-R011 (*F*)
| When scheme is NO:ORGNR, a valid Norwegian organization number must be used. Only numerical value allowed
| _New rule_

| EHF-COMMON-R012 (*F*)
| A VAT number MUST be valid Norwegian organization number (nine numbers) followed by the letters MVA.
| NOGOV-T01-R011 *F*

| EHF-COMMON-R013 (*F*)
| When scheme is NO:ORGNR, a valid Norwegian organization number must be used. Only numerical value allowed
| NOGOV-T01-R010 *F*

| EHF-COMMON-R014 (*F*)
| An endpoint identifier scheme MUST have the value 'NO:ORGNR'.
| NOGOV-T01-R008 (*F*)

3+h| Validation of tax

| EHF-COMMON-R020 (*F*)
| Tax categories MUST be one of the follwoing codes:  AA E H K R S Z
| NOGOV-T01-R022 (*F*)

3+h| Formating validation

| EHF-COMMON-R030 (*F*)
| A date must be formatted YYYY-MM-DD.
| NOGOV-T01-R007 (*F*)

3+h| Validation of other identifiers

| EHF-COMMON-R040 (*W*)
| Invalid GLN number provided.
| _New rule_

3+h| Code lists

| EHF-COMMON-R100 (*W*)
| Attachment is not a recommended MIMEType.
| NOGOV-T01-R021 (*W*)

|===


=== Mapping of rules in EHF Common for EHF Order Response

[cols="3,8,3", options="header"]
|===
| New rule
| Description
| Old rule

3+h| Document in general

| EHF-COMMON-R001 (*F*)
| Document MUST not contain empty elements.
| NOGOV-T76-R010 (*F*)

| EHF-COMMON-R002 (*F*)
| Document MUST not contain empty elements.
| NOGOV-T76-R010 (*F*)

| EHF-COMMON-R003 (*W*)
| Document SHOULD not contain schema location.
| _New rule_

| EHF-COMMON-R004 (*F*)
| Document MUST have a syntax identifier.
| NOGOV-T76-R007 (*F*)

3+h| Validation of Norwegian organization numbers

| EHF-COMMON-R010 (*F*)
| MUST be a valid Norwegian organization number. Only numerical value allowed
| NOGOV-T76-R003 (*F*)

| EHF-COMMON-R011 (*F*)
| When scheme is NO:ORGNR, a valid Norwegian organization number must be used. Only numerical value allowed
| _New rule_

| EHF-COMMON-R012 (*F*)
| A VAT number MUST be valid Norwegian organization number (nine numbers) followed by the letters MVA.
| _Ignored_

| EHF-COMMON-R013 (*F*)
| When scheme is NO:ORGNR, a valid Norwegian organization number must be used. Only numerical value allowed
| _Ignored_

| EHF-COMMON-R014 (*F*)
| An endpoint identifier scheme MUST have the value 'NO:ORGNR'.
| NOGOV-T76-R002 (*F*)

3+h| Validation of tax

| EHF-COMMON-R020 (*F*)
| Tax categories MUST be one of the follwoing codes:  AA E H K R S Z
| NOGOV-T76-R011 (*F*)

3+h| Formating validation

| EHF-COMMON-R030 (*F*)
| A date must be formatted YYYY-MM-DD.
| NOGOV-T76-R001 (*F*)

3+h| Validation of other identifiers

| EHF-COMMON-R040 (*W*)
| Invalid GLN number provided.
| _New rule_

3+h| Code lists

| EHF-COMMON-R100 (*W*)
| Attachment is not a recommended MIMEType.
| _Ignored_

|===
